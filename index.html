<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="Play minecraft 1.8.9 in your browser" />
	<meta name="keywords" content="eaglercraft, eaglercraftx, minecraft, 1.8, 1.8.9" />
	<title>Aqua Client V2</title>
	<meta property="og:locale" content="en-US" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="EaglercraftX 1.8.9" />
	<meta property="og:description" content="Play minecraft 1.8.9 in your browser" />
	<meta property="og:image" content="favicon.png" />
	<link type="image/png" rel="shortcut icon" href="favicon.png" />

	<!-- ----------------------------- -->
	<!-- Aqua Client Custom Loading UI -->
	<!-- ----------------------------- -->
	<style>
		/* Fullscreen loading overlay */
		#custom-loading {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #000; /* fallback if image fails */
			z-index: 9999;
			opacity: 1;
			transition: opacity 1s;
		}

		/* Make the loading image cover the entire screen */
		#loading-img {
			width: 100%;
			height: 100%;
			object-fit: cover; /* fill screen without stretching */
			position: absolute;
			top: 0;
			left: 0;
		}

		/* Aqua Client title */
		#aqua-title {
			position: absolute;
			top: 15%;
			width: 100%;
			text-align: center;
			font-family: 'Arial Black', sans-serif;
			font-size: 4em;
			color: #00ffff;
			text-shadow: 0 0 20px rgba(0,255,255,0.8), 0 0 40px rgba(0,255,255,0.6);
			animation: float 2s ease-in-out infinite alternate;
			pointer-events: none;
			z-index: 10000;
		}

		@keyframes float {
			0% { transform: translateY(0px); }
			100% { transform: translateY(-20px); }
		}
	</style>
	<!-- ----------------------------- -->

	<script type="text/javascript" src="classes.js"></script>
	<script type="text/javascript" src="fix-webm-duration.js"></script>

	<script type="text/javascript">
		window.addEventListener("load", () => {
			if (document.location.href.startsWith("file:")) {
				alert("HTTP please, do not open this file locally, run a local HTTP server and load it via HTTP");
			} else {
				window.eaglercraftXOpts = {
					container: "game_frame",
					assetsURI: "assets.epk",
					localesURI: "lang/",
					servers: [
						{ addr: "wss://play.ragexwaternet.online", name: "WebMC" },
						{ addr: "wss://aeon-network.net/1.8", name: "Aeon" },
						{ addr: "wss://xena.wtf/", name: "Xena" },
						{ addr: "wss://mc.sealcentral.co", name: "SealCraft" },
						{ addr: "wss://nexo-app.net", name: "Nexo" },
						{ addr: "wss://ec.eb-bridging.pro", name: "Ec.Eb"}
					]
				};

				main();

				// Animate original loading text with dots
				let dots = 0;
				setInterval(() => {
					if (typeof window.drawLoadingScreen === "function") {
						dots = (dots + 1) % 4; // 0..3 dots
						let dotStr = ".".repeat(dots);
						window.drawLoadingScreen("Loading" + dotStr);
					}
				}, 500); // every 500ms

				// Keep loading screen visible for 10 seconds, then fade out
				setTimeout(() => {
					const ld = document.getElementById("custom-loading");
					if (ld) {
						ld.style.opacity = "0";
						setTimeout(() => { ld.style.display = "none"; }, 1000);
					}
				}, 10000);
			}
		});
	</script>
</head>

<body style="margin:0;width:100vw;height:100vh;overflow:hidden;">
	<div id="game-wrapper" style="position:relative;width:100%;height:100%;">
		<!-- Fullscreen background image -->
		<div id="custom-loading">
			<img src="loading.png" id="loading-img">
		</div>

		<!-- Aqua Client floating title -->
		<div id="aqua-title">Aqua Client</div>

		<!-- Game container -->
		<div id="game_frame" style="width:100%;height:100%;"></div>
	</div>
</body>
</html>
